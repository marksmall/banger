# Gulp-Based Build System

[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com)
[![GitHub issues](https://img.shields.io/github/issues/marksmall/banger.svg)](https://github.com/marksmall/banger/issues)
[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/marksmall/banger/master/LICENSE.MD)

This project uses [Gulp](http://gulpjs.com/) to build NodeJS based apps.

## Purpose

The basic tenet of this project is to provide a life-cycle base build system to automate NodeJS
application(s). The life-cycle provides extensible points tasks can be attached to.

## Life-cycle

Each life-cycle is made up of phases, each depending on the previous in the chain to have executed.
You attach tasks to a phase for it to be run. Each task associated with a phase is run in parallel.

**IMPORTANT:** A task must have no dependency other than the phase.

There are in fact multiple life-cycles, **Clean** and **Default**.

| Name       | Description                                                   |
| ---------- |:------------------------------------------------------------- |
| pre-clean  | execute processes needed prior to the actual project cleaning |
| clean      | remove all files generated by the previous build              |
| post-clean | execute processes needed to finalize the project cleaning     |

## Default Lifecycle

| Name                    | Description                                                                                                                                                                   |
| ----------------------- |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| validate                | validate the project is correct and all necessary information is available.                                                                                                   |
| initialize              | initialize build state, e.g. set properties or create directories.                                                                                                            |
| compile                 | compile the source code of the project.                                                                                                                                       |
| test                    | run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed.                                                           |
| resources               | generate resources for inclusion in the package.                                                                                                                              |
| dist                    | take the compiled code and package it in its distributable format, such as a JAR.                                                                                             |

### Validate

The validate phase is where we check files:

* well-formed package.json
* lint code (JavaScript,TypeScript,SASS)

### Initialize

Empty for now but could be used to create directories and necessary project structure before project
can be built.

### Compile

Compile the code (if necessary), for instance, if you are using TypeScript.

### Test

Run Unit Tests

### Resources

Copy resources used by the project:

* image sprites
* source-maps
* HTML fragments
* fonts
* ...

### Create Distribution

Generate the distributable application.

## Stand-alone Tasks

These are tasks to aid development:

* serve
* serve-dist

### Serve Development Code

`gulp serve` will create a development server displaying the application, it can
run a **proxy** server that acts as a stub for any back-end api service. It watches
files so as to re-load the application on change. It uses
[browser-sync](https://www.browsersync.io/) to update any browser with the app loaded.

### Serve Distributable

`gulp serve-dist` also creates a development server, this time using the distributable
code.

## Release Process

* commit all changes to include in the release
* edit the version in package.json (respect **semver**)
* update CHANGELOG.MD
* commit
* git tag &lt;version&gt;
* git push --tags
* draft the release on GitHub (add description, etc)
* npm publish

## Authors

### Mark Small

* [@GitHub](https://github.com/marksmall)

## License

This project and all associated source code is licensed under the terms of the [MIT License](https://en.wikipedia.org/wiki/MIT_License).
